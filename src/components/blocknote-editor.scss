/**
 * BlockNote Editor Styles
 *
 * Minimal overrides - preserves BlockNote's native styling.
 */

// Editor wrapper
.blocknote-editor-wrapper {
  min-height: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;

  // === CRITICAL: Tailwind preflight override ===
  // Tailwind adds margin-top: 1.25rem to <p> elements
  // BlockNote uses <p> for .bn-inline-content (text inside blocks)
  // This margin breaks vertical alignment of toggles, checkboxes, lists, etc.
  .bn-inline-content {
    margin: 0 !important;
  }

  // === CRITICAL: Side menu alignment fix ===
  // BlockNote's side menu relies on default layout behavior
  // Tailwind preflight changes display/alignment defaults
  // Force flex centering for consistent button alignment
  // (Same pattern as the .bn-inline-content margin fix above)
  .bn-side-menu {
    display: flex !important;
    align-items: center !important;
    flex-direction: row !important;
    gap: 0 !important;
  }

  // Fix image caption spacing - Tailwind adds margin to caption <p> elements
  .bn-file-caption,
  .bn-image-block-content-wrapper p,
  [data-content-type="image"] p {
    margin: 0 !important;
  }

  // === Code block text color fix ===
  // BlockNote's code block has dark background but default text color is dark
  // Override to ensure white text on dark background for legibility
  [data-content-type="codeBlock"] {
    pre, code {
      color: #fff !important;
    }
  }
}

// Inline editor variant (for DataTable popup)
.blocknote-editor-inline {
  .blocknote-editor-wrapper {
    padding: 12px 0;
  }
}

// Fullscreen editor variant - modal container constrains height via h-[80vh]
.blocknote-editor-fullscreen {
  overflow-y: auto;
  // No height: 100% here - let DataTable's h-[80vh] control the size

  .blocknote-editor-wrapper {
    padding: 16px 0; // Small padding, text close to top
  }
}
